{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PushMenu$propTypes;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _slug = require('./lib/slug');\n\nvar _slug2 = _interopRequireDefault(_slug);\n\nvar _DefaultBackButton = require('./DefaultBackButton');\n\nvar _DefaultBackButton2 = _interopRequireDefault(_DefaultBackButton);\n\nvar _DefaultLinkComponent = require('./DefaultLinkComponent');\n\nvar _DefaultLinkComponent2 = _interopRequireDefault(_DefaultLinkComponent);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar mlPushMenu = require('./lib/mlpushmenu'); // import {ChevronRight} from 'react-icons/lib/fa';\n\n\nvar defaultPropMaps = {\n  displayName: 'name',\n  linkClasses: 'classes',\n  childPropName: 'children',\n  expanderClasses: 'expClasses',\n  url: 'url'\n};\n\nvar PushMenu = function (_Component) {\n  _inherits(PushMenu, _Component);\n\n  function PushMenu(props) {\n    _classCallCheck(this, PushMenu);\n\n    var _this = _possibleConstructorReturn(this, (PushMenu.__proto__ || Object.getPrototypeOf(PushMenu)).call(this, props));\n\n    _this.renderExpandLink = function (nodeData) {\n      var ExpanderComponent = _this.props.expanderComponent;\n      var node = nodeData.node,\n          nodeTitle = nodeData.nodeTitle,\n          propMap = nodeData.propMap;\n      return _react2.default.createElement('span', {\n        className: 'rpm-node-exp rpm-inline-block'\n      }, _react2.default.createElement(ExpanderComponent, {\n        data: nodeData\n      }));\n    };\n\n    _this.renderNode = function (node, key, propMap) {\n      var hasChildren = node.children && node.children.length > 0;\n      var nodeTitle = node[propMap.displayName];\n      var nodeChildren = node[propMap.childPropName];\n      var nodeData = {\n        menu: _this.state.pushInstance,\n        node: node,\n        propMap: propMap,\n        rootNode: _this.props.nodes\n      };\n      var LinkComponent = _this.props.linkComponent || _DefaultLinkComponent2.default;\n      return _react2.default.createElement('li', {\n        key: (0, _slug2.default)(nodeTitle) + '-' + key\n      }, _react2.default.createElement('div', {\n        className: _this.classPrefix + 'node-cntr'\n      }, _react2.default.createElement(LinkComponent, {\n        onNodeClick: _this.props.onNodeClick,\n        data: nodeData\n      }), hasChildren && _this.renderExpandLink(nodeData)), nodeChildren && nodeChildren.length > 0 && _this.renderSubMenu(nodeData));\n    };\n\n    _this.renderSubMenu = function (nodeData) {\n      var node = nodeData.node,\n          nodeTitle = nodeData.nodeTitle,\n          propMap = nodeData.propMap;\n      var nodeChildren = node[propMap.childPropName];\n      var _this$props = _this.props,\n          backComponent = _this$props.backComponent,\n          backIcon = _this$props.backIcon;\n      var BackComponent = backComponent || _DefaultBackButton2.default;\n      return _react2.default.createElement('div', {\n        className: 'rpm-mp-level'\n      }, _react2.default.createElement('h2', null, nodeTitle), _react2.default.createElement('div', {\n        className: 'rpm-inline-block ' + _this.classPrefix + 'mp-back'\n      }, _react2.default.createElement(BackComponent, {\n        classPrefix: _this.classPrefix,\n        data: nodeData,\n        backIcon: backIcon\n      })), _react2.default.createElement('ul', null, nodeChildren && nodeChildren.length > 0 && nodeChildren.map(function (node, key) {\n        return _this.renderNode(node, key, propMap);\n      })));\n    };\n\n    _this.classPrefix = 'rpm-';\n    _this.state = {\n      pushInstance: null\n    };\n    return _this;\n  }\n\n  _createClass(PushMenu, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.state.pushInstance = new mlPushMenu(document.getElementById('rpm-mp-menu'), document.getElementById(this.props.menuTrigger), {\n        type: this.props.type,\n        open: this.props.isOpen,\n        autoHide: this.props.autoHide,\n        onMenuOpen: this.props.onMenuOpen,\n        onMenuClose: this.props.onMenuClose\n      });\n      this.setState({\n        pushInstance: this.state.pushInstance\n      });\n      this.props.getRef(this.state.pushInstance);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var propMap = Object.assign({}, defaultPropMaps, this.props.propMap);\n      var nodeChildren = this.props.nodes[propMap.childPropName] || [];\n      return _react2.default.createElement('div', {\n        className: 'rpm-container',\n        id: 'rpm-container'\n      }, _react2.default.createElement('div', {\n        className: this.classPrefix + 'mp-pusher',\n        id: this.classPrefix + 'mp-pusher'\n      }, _react2.default.createElement('nav', {\n        id: 'rpm-mp-menu',\n        className: 'rpm-mp-menu'\n      }, _react2.default.createElement('div', {\n        className: 'rpm-mp-level'\n      }, _react2.default.createElement('div', {\n        className: 'rpm-mp-header'\n      }, this.props.nodes.header), _react2.default.createElement('ul', null, nodeChildren && nodeChildren.map(function (node, key) {\n        return _this2.renderNode(node, key, propMap);\n      })))), _react2.default.createElement('div', {\n        className: 'rpm-scroller'\n      }, _react2.default.createElement('div', {\n        className: 'rpm-scroller-inner'\n      }, this.props.children))));\n    }\n  }]);\n\n  return PushMenu;\n}(_react.Component);\n\nexports.default = PushMenu;\nPushMenu.propTypes = (_PushMenu$propTypes = {\n  propMap: _propTypes2.default.object,\n  backIcon: _propTypes2.default.node,\n  forwardIcon: _propTypes2.default.node\n}, _defineProperty(_PushMenu$propTypes, 'propMap', _propTypes2.default.object), _defineProperty(_PushMenu$propTypes, 'nodes', _propTypes2.default.object), _defineProperty(_PushMenu$propTypes, 'isOpen', _propTypes2.default.bool), _defineProperty(_PushMenu$propTypes, 'type', _propTypes2.default.oneOf(['cover', 'overlap'])), _defineProperty(_PushMenu$propTypes, 'onNodeClick', _propTypes2.default.func), _defineProperty(_PushMenu$propTypes, 'getRef', _propTypes2.default.func), _defineProperty(_PushMenu$propTypes, 'menuTrigger', _propTypes2.default.string), _defineProperty(_PushMenu$propTypes, 'linkComponent', _propTypes2.default.func), _defineProperty(_PushMenu$propTypes, 'backComponent', _propTypes2.default.func), _defineProperty(_PushMenu$propTypes, 'onMenuOpen', _propTypes2.default.func), _defineProperty(_PushMenu$propTypes, 'onMenuClose', _propTypes2.default.func), _defineProperty(_PushMenu$propTypes, 'expanderComponent', _propTypes2.default.func.isRequired), _PushMenu$propTypes);\nPushMenu.defaultProps = {\n  propMap: defaultPropMaps,\n  type: 'cover',\n  menuTrigger: 'rpm-trigger',\n  isOpen: false,\n  getRef: function getRef() {},\n  onNodeClick: function onNodeClick() {},\n  nodes: {},\n  onMenuClose: function onMenuClose() {},\n  onMenuOpen: function onMenuOpen() {}\n};","map":null,"metadata":{},"sourceType":"script"}